---
description: Controls when and how Cursor can suggest adding new packages or dependencies or creating new libraries
globs: 
alwaysApply: true
---
<rule>
filters:
  - type: event
    pattern: "cursor_suggestion"
  - type: content
    pattern: "(?s).*(npm|pip|go get|cargo|maven|gradle|lib/|libs/|library/|libraries/).*"

actions:
  - type: reject
    conditions:
      - pattern: "(?s).*(install|add|npm|pip|go get|cargo).*(?!.*requested).*"
        message: "New package additions must be explicitly requested by the user"
      - pattern: "(?s).*(latest|newest|beta|alpha|rc).*(?!.*specified).*"
        message: "Package versions must be explicitly specified and stable"
      - pattern: "(?s).*(create|new|add).*(lib|library|module|package).*(?!.*requested).*"
        message: "Creating new library code must be explicitly requested by the user"
  - type: suggest
    message: |
      When dealing with dependencies and libraries:
      - Only add packages explicitly requested by the user
      - Only create new library code when explicitly requested
      - Use exact versions, not ranges or latest
      - Prefer existing dependencies and libraries over adding new ones
      - Document why a new package or library is necessary
      - Consider security and maintenance implications
      - Check compatibility with existing dependencies
      - Verify license compliance

examples:
  // ... existing examples ...
  - input: |
      AI: "Let's create a new utility library for this"
    output: |
      Rejected: Cannot suggest creating new library code without explicit user request.
      Alternative: "We could use existing utilities, or if you'd like, I can show you 
      how to create a new library for this if you explicitly request it."

metadata:
  priority: high
  version: "1.0"
  category: dependency_management
  maintainer: Panther Labs Inc.
</rule>